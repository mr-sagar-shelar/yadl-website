import{r as n,c as T,a as L,j as a,b as M,R as F,A as I,P as U,d as l,e as O,g as $,h as W,D as z,i as B,k as G,m as K}from"./index.js";var E,R="HoverCard",[_,ae]=M(R,[T]),S=T(),[V,w]=_(R),y=e=>{const{__scopeHoverCard:r,children:o,open:s,defaultOpen:c,onOpenChange:i,openDelay:f=700,closeDelay:v=300}=e,d=S(r),h=n.useRef(0),u=n.useRef(0),C=n.useRef(!1),p=n.useRef(!1),[m,t]=L({prop:s,defaultProp:c??!1,onChange:i,caller:R}),x=n.useCallback(()=>{clearTimeout(u.current),h.current=window.setTimeout(()=>t(!0),f)},[f,t]),P=n.useCallback(()=>{clearTimeout(h.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>t(!1),v))},[v,t]),k=n.useCallback(()=>t(!1),[t]);return n.useEffect(()=>()=>{clearTimeout(h.current),clearTimeout(u.current)},[]),a.jsx(V,{scope:r,open:m,onOpenChange:t,onOpen:x,onClose:P,onDismiss:k,hasSelectionRef:C,isPointerDownOnContentRef:p,children:a.jsx(F,{...d,children:o})})};y.displayName=R;var N="HoverCardTrigger",D=n.forwardRef((e,r)=>{const{__scopeHoverCard:o,...s}=e,c=w(N,o),i=S(o);return a.jsx(I,{asChild:!0,...i,children:a.jsx(U.a,{"data-state":c.open?"open":"closed",...s,ref:r,onPointerEnter:l(e.onPointerEnter,b(c.onOpen)),onPointerLeave:l(e.onPointerLeave,b(c.onClose)),onFocus:l(e.onFocus,c.onOpen),onBlur:l(e.onBlur,c.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});D.displayName=N;var H="HoverCardPortal",[q,J]=_(H,{forceMount:void 0}),j=e=>{const{__scopeHoverCard:r,forceMount:o,children:s,container:c}=e,i=w(H,r);return a.jsx(q,{scope:r,forceMount:o,children:a.jsx(O,{present:o||i.open,children:a.jsx($,{asChild:!0,container:c,children:s})})})};j.displayName=H;var g="HoverCardContent",A=n.forwardRef((e,r)=>{const o=J(g,e.__scopeHoverCard),{forceMount:s=o.forceMount,...c}=e,i=w(g,e.__scopeHoverCard);return a.jsx(O,{present:s||i.open,children:a.jsx(Q,{"data-state":i.open?"open":"closed",...c,onPointerEnter:l(e.onPointerEnter,b(i.onOpen)),onPointerLeave:l(e.onPointerLeave,b(i.onClose)),ref:r})})});A.displayName=g;var Q=n.forwardRef((e,r)=>{const{__scopeHoverCard:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:i,onInteractOutside:f,...v}=e,d=w(g,o),h=S(o),u=n.useRef(null),C=W(r,u),[p,m]=n.useState(!1);return n.useEffect(()=>{if(p){const t=document.body;return E=t.style.userSelect||t.style.webkitUserSelect,t.style.userSelect="none",t.style.webkitUserSelect="none",()=>{t.style.userSelect=E,t.style.webkitUserSelect=E}}},[p]),n.useEffect(()=>{if(u.current){const t=()=>{m(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var P;((P=document.getSelection())==null?void 0:P.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",t),()=>{document.removeEventListener("pointerup",t),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),n.useEffect(()=>{u.current&&Z(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(z,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l(i,t=>{t.preventDefault()}),onDismiss:d.onDismiss,children:a.jsx(B,{...h,...v,onPointerDown:l(v.onPointerDown,t=>{t.currentTarget.contains(t.target)&&m(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),X="HoverCardArrow",Y=n.forwardRef((e,r)=>{const{__scopeHoverCard:o,...s}=e,c=S(o);return a.jsx(G,{...c,...s,ref:r})});Y.displayName=X;function b(e){return r=>r.pointerType==="touch"?void 0:e()}function Z(e){const r=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;o.nextNode();)r.push(o.currentNode);return r}var ee=y,te=D,re=j,oe=A;function se({...e}){return a.jsx(ee,{"data-slot":"hover-card",...e})}function ce({...e}){return a.jsx(te,{"data-slot":"hover-card-trigger",...e})}function ie({className:e,align:r="center",sideOffset:o=4,...s}){return a.jsx(re,{"data-slot":"hover-card-portal",children:a.jsx(oe,{"data-slot":"hover-card-content",align:r,sideOffset:o,className:K("bg-white text-neutral-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border border-neutral-200 p-4 shadow-md outline-hidden dark:bg-neutral-950 dark:text-neutral-50 dark:border-neutral-800",e),...s})})}export{se as H,ce as a,ie as b};
